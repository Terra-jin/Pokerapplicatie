var Kerstens,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();!function(t){!function(t){var e=function(){return function(t,e){this.rank=t,this.suit=e,this.display=null,this.display=t.key+e.key}}();t.Card=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(){return function(){this.cards=[],this.result=null,this.odds2Win=0,this.odds2Lose=0,this.odds2Tie=0,this.handStrength=null,this.id=null,this.eliminated=!1}}();t.Combo=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(e){!function(t){t[t.preflop=1]="preflop",t[t.flop=5]="flop",t[t.turn=6]="turn",t[t.river=7]="river"}(e.HandPhase||(e.HandPhase={}));var n=function(){function n(){this.cardRanks=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],this.cardSuits=["s","h","c","d"],this.cardColors=["black","red","green","blue"],this.deck=[],this.selectedCards=[],this.playedPhases=[],this.phase=t.Test.HandPhase[1],this.rankedPP=["AA","KK","QQ","JJ","TT","99","88","77","66","55","44","33","22"],this.rankedBW=["AKs","AQs","KQs","AJs","KJs","AKo","ATs","QJs","KTs","QTs","JTs","AQo","KQo","AJo","KJo","QJo","ATo","KTo","JTo","QTo"],this.rankedSC=["T9s","98s","87s","76s","65s","54s"],this.rankedS1G=["J9s","T8s","97s","86s","75s","64s","53s","43s"],this.rankedS2G=["Q9s","J8s","T7s","96s","85s","74s","63s","52s","42s"],this.rankedSA=["A9s","A8s","A5s","A7s","A4s","A3s","A6s","A2s"],this.rankedAA=["A9o","A8o","A5o","A7o","A4o","A3o","A6o","A2o"],this.rankedOC=["T9o","98o","87o","76o","65o","54o"],this.rankedO1G=["J9o","T8o","97o","86o","75o","64o","53o","43o"],this.rankedT=["K9s","K8s","Q8s","K7s","K6s","K5s","K4s","K2s","K3s","Q7s","J7s","Q6s","Q5s","Q4s","Q3s","T6s","Q2s","J6s","K9o","J5s","Q9o","J4s","J3s","95s","J2s","T5s","84s","T4s","T3s","T2s","73s","32s","94s","93s","J8o","62s","92s","K8o","Q8o","83s","82s","72s","K7o","T7o","K6o","K5o","J7o","Q7o","K4o","K3o","96o","K2o","Q6o","85o","T6o","Q5o","Q4o","Q3o","74o","Q2o","J6o","63o","J5o","95o","52o","J4o","J3o","42o","J2o","84o","T5o","T4o","32o","T3o","73o","T2o","62o","94o","93o","92o","83o","82o","72o"],this.eliminatedPPs=[],this.eliminatedBWs=[],this.eliminatedSCs=[],this.eliminatedS1Gs=[],this.eliminatedS2Gs=[],this.eliminatedSAs=[],this.eliminatedAAs=[],this.eliminatedOCs=[],this.eliminatedO1Gs=[],this.eliminatedTs=[],this.shownPhase=null}return Object.defineProperty(n,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),n.prototype.Initialize=function(){this.GenerateDeck(),this.GenerateInputTable(),this.GenerateResultsTable(),this.GenerateEliminatedCombosReference(this.rankedPP,this.eliminatedPPs),this.GenerateEliminatedCombosReference(this.rankedBW,this.eliminatedBWs),this.GenerateEliminatedCombosReference(this.rankedSC,this.eliminatedSCs),this.GenerateEliminatedCombosReference(this.rankedS1G,this.eliminatedS1Gs),this.GenerateEliminatedCombosReference(this.rankedS2G,this.eliminatedS2Gs),this.GenerateEliminatedCombosReference(this.rankedSA,this.eliminatedSAs),this.GenerateEliminatedCombosReference(this.rankedAA,this.eliminatedAAs),this.GenerateEliminatedCombosReference(this.rankedOC,this.eliminatedOCs),this.GenerateEliminatedCombosReference(this.rankedO1G,this.eliminatedO1Gs),this.GenerateEliminatedCombosReference(this.rankedT,this.eliminatedTs)},n.prototype.GenerateDeck=function(){var t=this;this.deck=[],this.cardRanks.forEach(function(n,s){t.cardSuits.forEach(function(i,a){var r=new e.Card(new e.KeyValuePair(n,s),new e.KeyValuePair(i,a));t.deck.push(r)})})},n.prototype.GenerateInputTable=function(){var t=this;e.RenderInputTable(document.querySelector("#placeholderInputTable"),this.deck,function(e){t.SelectCard(e)})},n.prototype.SelectCard=function(n){7!=this.selectedCards.length&&".."!=document.getElementById(n.display).innerHTML&&(document.getElementById("Card-"+this.selectedCards.length.toString()).innerHTML=n.display,this.FixFontColorSelectedCards(),this.selectedCards.push(n),this.deck.splice(this.deck.indexOf(n),1),this.SetPhase(),this.phase!=t.Test.HandPhase[1]&&(this.ShowButton(this.phase),this.playedPhases.push(new e.PlayedPhase(this.phase,this.selectedCards,this.deck,this.cardRanks,this.cardSuits))))},n.prototype.FixFontColorSelectedCards=function(){var t=this;this.cardColors.forEach(function(e,n){1==document.getElementById("Card-"+t.selectedCards.length.toString()).innerHTML.includes(t.cardSuits[n])&&(document.getElementById("Card-"+t.selectedCards.length.toString()).style.color=e)})},n.prototype.SetPhase=function(){this.selectedCards.length<5||(this.phase=t.Test.HandPhase[this.selectedCards.length])},n.prototype.GenerateResultsTable=function(){var t=[];this.GenerateRanksCombinations(t);var e=[];this.GenerateStartingHands(e);var n=jQuery("<table></table>"),s=jQuery("<tr></tr>");s=null;for(var i=0,a=0;a<13;a++){if(0==a){n.append("<tr></tr>");s=jQuery("<tr></tr>");for(var r=0;r<14;r++)0==r&&s.append('<td class="ext"><table><tr><td class="int"><div class="ss"></div></td><td class="int"><div class="hs"></div></td><td class="int"><div class="cs"></div></td><td class="int"><div class="ds"></div></td></tr><tr><td class="int"><div class="sh"></div></td><td class="int"><div class="hh"></div></td><td class="int"><div class="ch"></div></td><td class="int"><div class="dh"></div></td></tr><tr><td class="int"><div class="sc"></div></td><td class="int"><div class="hc"></div></td><td class="int"><div class="cc"></div></td><td class="int"><div class="dc"></div></td></tr><tr><td class="int"><div class="sd"></div></td><td class="int"><div class="hd"></div></td><td class="int"><div class="cd"></div></td><td class="int"><div class="dd"></div></td></tr></table></td>'),r>0&&s.append('<td class="ext">'+this.cardRanks[r-1]+"</td>")}for(var o=0;o<13;o++){if(0==o)null!=s&&n.append(s),(s=jQuery("<tr></tr>")).append('<td class="ext">'+this.cardRanks[a]+"</td>");s.append('<td class="ext"><table><tr><td class="int" id="'+e[i]+'1" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'2" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'3" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'4" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td></tr><tr><td class="int" id="'+e[i]+'5" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'6" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'7" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'8" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td></tr><tr><td class="int" id="'+e[i]+'9" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'10" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'11" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'12" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td></tr><tr><td class="int" id="'+e[i]+'13" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'14" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'15" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td><td class="int" id="'+e[i]+'16" onmouseover="Kerstens.Test.Game.Instance.ShowEquity(this.id)"></td></tr></table></td>'),i++}}n.append(s),jQuery("#demo").after("<br>"),jQuery("#demo").after(n),this.PrepareResultsTable(t)},n.prototype.GenerateRanksCombinations=function(t){for(var e=0,n=0;n<13;n++)for(var s=n;s<13;s++)t[e]=this.cardRanks[n].toString()+this.cardRanks[s].toString(),e++},n.prototype.GenerateStartingHands=function(t){for(var e=0,n=0;n<13;n++)for(var s=0;s<13;s++)n>s&&(t[e]=this.cardRanks[s].toString()+this.cardRanks[n].toString()+"o",e++),n==s&&(t[e]=this.cardRanks[s].toString()+this.cardRanks[n].toString(),e++),n<s&&(t[e]=this.cardRanks[n].toString()+this.cardRanks[s].toString()+"s",e++)},n.prototype.PrepareResultsTable=function(t){var e=["5","9","10","13","14","15"],n=[];this.GenerateTablePositionsNonPocketPair(n);for(var s=0;s<t.length;s++)if(t[s].charAt(0)==t[s].charAt(1))for(var i=0;i<e.length;i++)document.getElementById(t[s]+e[i]).style.backgroundColor="black";else for(i=0;i<n.length;i++)document.getElementById(t[s]+n[i]).style.backgroundColor="black"},n.prototype.GenerateTablePositionsNonPocketPair=function(t){for(var e=0;e<16;e++)t[e]=0==e||5==e||10==e||15==e?"s"+(e+1).toString():"o"+(e+1).toString()},n.prototype.CompleteResultsTable=function(t){var e=this,n=[];this.GenerateRanksCombinations(n),this.PrepareResultsTable(n);var s=0,i=0,a=0,r=0;t.forEach(function(t,n){t.cards[0].rank.value==t.cards[1].rank.value&&e.ColorCellResultsTable(t,""),t.cards[0].rank.value!=t.cards[1].rank.value&&t.cards[0].suit.value==t.cards[1].suit.value&&e.ColorCellResultsTable(t,"s"),t.cards[0].rank.value!=t.cards[1].rank.value&&t.cards[0].suit.value!=t.cards[1].suit.value&&e.ColorCellResultsTable(t,"o"),"Hero wins"==t.result&&0==t.eliminated&&(s++,r+=t.odds2Win+.5*t.odds2Tie),"Hero loses"==t.result&&0==t.eliminated&&(i++,r+=t.odds2Win+.5*t.odds2Tie),"It's a tie"==t.result&&0==t.eliminated&&(a++,r+=t.odds2Win+.5*t.odds2Tie)}),document.getElementById("totalResults").innerHTML="Absolute hand strength rank: "+((s+a/2)/(s+i+a)*100).toFixed(2)+"%<br />Total equity against one opponent: "+(100*r/(s+i+a)).toFixed(2)+"%",1081==t.length&&(this.shownPhase=0),1035==t.length&&(this.shownPhase=1),990==t.length&&(this.shownPhase=2),this.GetHandCategoryPercentages(t)},n.prototype.ColorCellResultsTable=function(t,e){var n=this;t.eliminated=!1,this.EliminateCombo(t,this.eliminatedPPs,"preFlopSliderPP"),this.EliminateCombo(t,this.eliminatedBWs,"preFlopSliderBW"),this.EliminateCombo(t,this.eliminatedSCs,"preFlopSliderSC"),this.EliminateCombo(t,this.eliminatedS1Gs,"preFlopSliderS1G"),this.EliminateCombo(t,this.eliminatedS2Gs,"preFlopSliderS2G"),this.EliminateCombo(t,this.eliminatedSAs,"preFlopSliderSA"),this.EliminateCombo(t,this.eliminatedAAs,"preFlopSliderAA"),this.EliminateCombo(t,this.eliminatedOCs,"preFlopSliderOC"),this.EliminateCombo(t,this.eliminatedO1Gs,"preFlopSliderO1G"),this.EliminateCombo(t,this.eliminatedTs,"preFlopSliderT");var s=[];this.GeneratePositionRef(s),s.forEach(function(s,i){if(t.cards[0].suit.value==s.value1&&t.cards[1].suit.value==s.value2){var a=[];n.GenerateResultColorCode(a),a.forEach(function(n,i){t.result==n.key&&(document.getElementById(t.cards[0].rank.key+t.cards[1].rank.key+e+s.key.toString()).style.backgroundColor=n.value,t.id=t.cards[0].rank.key+t.cards[1].rank.key+e+s.key.toString())}),1==t.eliminated&&(document.getElementById(t.cards[0].rank.key+t.cards[1].rank.key+e+s.key.toString()).style.backgroundColor="black")}})},n.prototype.GeneratePositionRef=function(t){for(var n=0,s=0;s<4;s++)for(var i=0;i<4;i++)t[n]=new e.KeyValuesPairNumber(n+1,i,s),n++},n.prototype.GenerateResultColorCode=function(t){for(var n=0;n<3;n++){t[n]=new e.KeyValuePairString(["Hero wins","Hero loses","It's a tie"][n],["green","red","yellow"][n])}},n.prototype.GetHandCategoryPercentages=function(t){var e=0,n=0,s=0,i=0,a=0,r=0,o=0,h=0,d=0,u=0;t.forEach(function(t,c){if(!t.eliminated){u++;var l=Math.round(t.handStrength/Math.pow(10,10));switch(l){case 0:e++;break;case 1:n++;break;case 2:s++;break;case 3:i++;break;case 4:a++;break;case 5:r++;break;case 6:o++;break;case 7:h++;break;case 8:d++;break;default:alert("Ongeldige hand strength waarde: "+l)}}}),document.getElementById("straightFlushRank").innerHTML="Straight flush hand rank: "+(e/u*100).toFixed(6)+"%",document.getElementById("quadsRank").innerHTML="Quads hand rank: "+(n/u*100).toFixed(6)+"%",document.getElementById("fullHouseRank").innerHTML="Full House hand rank: "+(s/u*100).toFixed(6)+"%",document.getElementById("flushRank").innerHTML="Flush hand rank: "+(i/u*100).toFixed(6)+"%",document.getElementById("straightRank").innerHTML="Straight hand rank: "+(a/u*100).toFixed(6)+"%",document.getElementById("tripsRank").innerHTML="Trips hand rank: "+(r/u*100).toFixed(6)+"%",document.getElementById("twoPairRank").innerHTML="Two Pair hand rank: "+(o/u*100).toFixed(6)+"%",document.getElementById("pairRank").innerHTML="Pair hand rank: "+(h/u*100).toFixed(6)+"%",document.getElementById("highCardRank").innerHTML="High Card hand rank: "+(d/u*100).toFixed(6)+"%"},n.prototype.EliminateCombo=function(t,e,n){e.forEach(function(e,s){t.cards[0].rank.value==e.value1&&t.cards[1].rank.value==e.value2&&t.cards[0].suit.value==t.cards[1].suit.value==e.value3&&e.key>document.getElementById(n).valueAsNumber&&(t.eliminated=!0)})},n.prototype.GenerateEliminatedCombosReference=function(t,n){var s=this;t.forEach(function(t,i){var a=null,r=null,o=!1;s.cardRanks.forEach(function(e,n){t.charAt(0)==e&&(a=n),t.charAt(1)==e&&(r=n),"s"==t.charAt(2)&&(o=!0)});var h=new e.EliminatedComboReference(n.length+1,a,r,o);n.push(h)})},n.prototype.ShowButton=function(t){"flop"==this.phase&&(document.getElementById("buttonFlop").style.visibility="visible"),"turn"==this.phase&&(document.getElementById("buttonTurn").style.visibility="visible"),"river"==this.phase&&(document.getElementById("buttonRiver").style.visibility="visible")},n.prototype.ShowEquity=function(t){if(null!=this.shownPhase){var e=this.playedPhases[this.shownPhase].combos.filter(function(e){return e.id===t});0!=e.length&&(document.getElementById("equity").innerHTML="Equity against "+e[0].cards[0].rank.key+e[0].cards[0].suit.key+e[0].cards[1].rank.key+e[0].cards[1].suit.key+": "+(100*(e[0].odds2Win+e[0].odds2Tie/2)).toFixed(2).toString()+"%")}},n.prototype.Reload=function(){location.reload()},n}();e.Game=n}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),document.addEventListener("DOMContentLoaded",function(){Kerstens.Test.Game.Instance.Initialize()}),function(t){!function(t){var e=function(){return function(t,e){this.key=t,this.value=e}}();t.KeyValuePair=e;var n=function(){return function(t,e){this.key=t,this.value=e}}();t.KeyValuePairString=n;var s=function(){return function(t,e,n){this.key=t,this.value1=e,this.value2=n}}();t.KeyValuesPairNumber=s;var i=function(){return function(t,e,n,s){this.key=t,this.value1=e,this.value2=n,this.value3=s}}();t.EliminatedComboReference=i}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(){function e(e,n,s,i,a){this.phase=e,this.cards=n,this.deck=s,this.cardRanks=i,this.cardSuits=a,this.villain=null,this.hero=null,this.combos=[],this.hero=new t.Player(this.deck),this.villain=new t.Player(this.deck),this.hero.GetCards(this.cards),this.villain.GetVillainCards(this.cards),this.CreateCombos()}return e.prototype.CreateCombos=function(){for(var e=0,n=0;n<this.deck.length-1;n++)for(var s=0;s<this.deck.length-1-n;s++)this.combos[e]=new t.Combo,this.combos[e].cards[0]=this.deck[n],this.combos[e].cards[1]=this.deck[n+s+1],this.villain.GetCombo(this.combos[e]),this.CheckResult(e),7!=this.cards.length&&this.CheckOdds(e),e++},e.prototype.CheckResult=function(t){var e=this.hero.CheckHandStrength(),n=this.villain.CheckHandStrength();this.combos[t].handStrength=n,n>e?(this.combos[t].result="Hero wins",7==this.cards.length&&(this.combos[t].odds2Win=1)):n<e?(this.combos[t].result="Hero loses",7==this.cards.length&&(this.combos[t].odds2Lose=1)):(this.combos[t].result="It's a tie",7==this.cards.length&&(this.combos[t].odds2Tie=1))},e.prototype.CheckOdds=function(t){var e=this,n=0,s=0,i=0,a=0,r=[],o=this.combos[t];if(r[0]=this.deck.findIndex(function(t){return t.display===o.cards[0].display}),r[1]=this.deck.findIndex(function(t){return t.display===o.cards[1].display}),this.deck.splice(r[1],1),this.deck.splice(r[0],1),5==this.cards.length){for(var h=0;h<this.deck.length-1;h++){this.hero.GetRunoutCard(this.deck[h],5),this.villain.GetRunoutCard(this.deck[h],5);for(var d=0;d<this.deck.length-1-h;d++){this.hero.GetRunoutCard(this.deck[h+d+1],6),this.villain.GetRunoutCard(this.deck[h+d+1],6);var u=this.hero.CheckHandStrength(),c=this.villain.CheckHandStrength();c>u?s++:c<u?i++:a++,n++}}this.combos[t].odds2Win=s/n,this.combos[t].odds2Lose=i/n,this.combos[t].odds2Tie=a/n,this.hero.SpliceRunoutCards(5,2),this.villain.SpliceRunoutCards(5,2)}else this.deck.forEach(function(t,n){e.hero.GetRunoutCard(t,6),e.villain.GetRunoutCard(t,6);var r=e.hero.CheckHandStrength(),o=e.villain.CheckHandStrength();o>r?s++:o<r?i++:a++}),this.combos[t].odds2Win=s/this.deck.length,this.combos[t].odds2Lose=i/this.deck.length,this.combos[t].odds2Tie=a/this.deck.length,this.hero.SpliceRunoutCards(6,1),this.villain.SpliceRunoutCards(6,1);this.deck.splice(r[0],0,o.cards[0]),this.deck.splice(r[1],0,o.cards[1])},e}();t.PlayedPhase=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(){function t(t){this.deck=t,this.cards=[],this.ranksCount=[0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.suitsCount=[0,0,0,0],this.ranksCountCount=[0,0,0],this.handStrength=null,this.combos=[]}return t.prototype.GetCards=function(t){var e=this;t.forEach(function(t,n){e.cards[n]=t})},t.prototype.GetVillainCards=function(t){var e=this;t.forEach(function(t,n){n>1&&(e.cards[n]=t)})},t.prototype.GetCombo=function(t){this.cards[0]=t.cards[0],this.cards[1]=t.cards[1]},t.prototype.GetRunoutCard=function(t,e){this.cards[e]=t},t.prototype.SpliceRunoutCards=function(t,e){this.cards.splice(t,e)},t.prototype.CheckHandStrength=function(){return this.Reset(),this.CountRanks(),this.CountSuits(),this.CountRanksCount(),this.CheckStraightFlush(),this.handStrength},t.prototype.Reset=function(){this.ResetRanksCount(),this.suitsCount=[0,0,0,0],this.ranksCountCount=[0,0,0],this.handStrength=null},t.prototype.ResetRanksCount=function(){this.ranksCount=[0,0,0,0,0,0,0,0,0,0,0,0,0,0]},t.prototype.CountRanks=function(){var t=this;this.cards.forEach(function(e,n){t.ranksCount.forEach(function(n,s){e.rank.value==s&&t.ranksCount[s]++})})},t.prototype.CountSuits=function(){var t=this;this.cards.forEach(function(e,n){t.suitsCount.forEach(function(n,s){e.suit.value==s&&t.suitsCount[s]++})})},t.prototype.CountRanksCount=function(){var t=this;this.ranksCount.forEach(function(e,n){t.ranksCountCount.forEach(function(n,s){e==4-s&&t.ranksCountCount[s]++})})},t.prototype.CheckStraightFlush=function(){var t=0,e=null;if(Math.max.apply(Math,this.suitsCount)>4){e=this.suitsCount.indexOf(Math.max.apply(Math,this.suitsCount)),this.cards.forEach(function(t,n){t.suit.value!=e&&(t.rank.value-=100)}),this.ResetRanksCount(),this.CountRanks(),this.ranksCount[13]=this.ranksCount[0];for(var n=0;n<14;n++)if(this.ranksCount[n]<1)t=0;else if(++t>4){this.handStrength=(n-4)*Math.pow(10,8),t=0;break}this.cards.forEach(function(t,n){t.suit.value!=e&&(t.rank.value+=100)}),this.ResetRanksCount(),this.CountRanks()}null==this.handStrength&&this.CheckQuads()},t.prototype.CheckQuads=function(){if(1==this.ranksCountCount[0]){this.handStrength=1*Math.pow(10,10),this.handStrength+=this.ranksCount.indexOf(Math.max.apply(Math,this.ranksCount))*Math.pow(10,8),this.ranksCount[this.ranksCount.indexOf(Math.max.apply(Math,this.ranksCount))]=0;for(var t=0;t<14;t++)if(this.ranksCount[t]>0)return void(this.handStrength+=t*Math.pow(10,6))}null==this.handStrength&&this.CheckFullHouse()},t.prototype.CheckFullHouse=function(){0==this.ranksCountCount[0]&&(2==this.ranksCountCount[1]||1==this.ranksCountCount[1]&&this.ranksCountCount[2]>=1)&&(this.handStrength=2*Math.pow(10,10),this.handStrength+=this.ranksCount.indexOf(3)*Math.pow(10,8),this.ranksCount.lastIndexOf(3)!=this.ranksCount.indexOf(3)?this.handStrength+=this.ranksCount.lastIndexOf(3)*Math.pow(10,6):this.handStrength+=this.ranksCount.indexOf(2)*Math.pow(10,6)),null==this.handStrength&&this.CheckFlush()},t.prototype.CheckFlush=function(){var t=null;if(Math.max.apply(Math,this.suitsCount)>4){this.handStrength=3*Math.pow(10,10),t=this.suitsCount.indexOf(Math.max.apply(Math,this.suitsCount)),this.cards.forEach(function(e,n){e.suit.value!=t&&(e.rank.value-=100)}),this.ResetRanksCount(),this.CountRanks();var e=[];this.cards.forEach(function(t,n){t.rank.value>-1&&e.push(t.rank.value)}),e.sort(function(t,e){return t-e});for(var n=0;n<5;n++)this.handStrength+=e[n]*Math.pow(10,8-2*n);this.cards.forEach(function(e,n){e.suit.value!=t&&(e.rank.value+=100)}),this.ResetRanksCount(),this.CountRanks()}null==this.handStrength&&this.CheckStraight()},t.prototype.CheckStraight=function(){var t=0;this.ranksCount[13]=this.ranksCount[0];for(var e=0;e<14;e++)if(0==this.ranksCount[e])t=0;else if(++t>4){this.handStrength=4*Math.pow(10,10),this.handStrength+=(e-4)*Math.pow(10,8),t=0;break}this.ranksCount[13]=0,null==this.handStrength&&this.CheckTrips()},t.prototype.CheckTrips=function(){1==this.ranksCountCount[1]&&(this.handStrength=5*Math.pow(10,10),this.handStrength+=this.ranksCount.indexOf(3)*Math.pow(10,8),this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,6),this.ranksCount[this.ranksCount.indexOf(1)]=-1,this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,4)),null==this.handStrength&&this.CheckTwoPair()},t.prototype.CheckTwoPair=function(){if(this.ranksCountCount[2]>1){this.handStrength=6*Math.pow(10,10),this.handStrength+=this.ranksCount.indexOf(2)*Math.pow(10,8),this.ranksCount[this.ranksCount.indexOf(2)]=-1,this.handStrength+=this.ranksCount.indexOf(2)*Math.pow(10,6),this.ranksCount[this.ranksCount.indexOf(2)]=-1;for(var t=0;t<this.ranksCount.length;t++)if(this.ranksCount[t]>0){this.handStrength+=t*Math.pow(10,4);break}}null==this.handStrength&&this.CheckPair()},t.prototype.CheckPair=function(){1==this.ranksCountCount[2]&&(this.handStrength=7*Math.pow(10,10),this.handStrength+=this.ranksCount.indexOf(2)*Math.pow(10,8),this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,6),this.ranksCount[this.ranksCount.indexOf(1)]=-1,this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,4),this.ranksCount[this.ranksCount.indexOf(1)]=-1,this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,2)),null==this.handStrength&&this.CheckHighCard()},t.prototype.CheckHighCard=function(){this.handStrength=8*Math.pow(10,10);for(var t=0;t<5;t++)this.handStrength+=this.ranksCount.indexOf(1)*Math.pow(10,8-2*t),this.ranksCount[this.ranksCount.indexOf(1)]=-1},t}();t.Player=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.render=function(){var e=this,n=[];return n.push(this.props.cards.filter(function(t){return"s"==t.suit.key})),n.push(this.props.cards.filter(function(t){return"h"==t.suit.key})),n.push(this.props.cards.filter(function(t){return"c"==t.suit.key})),n.push(this.props.cards.filter(function(t){return"d"==t.suit.key})),React.createElement("table",{className:"margin43"},n.map(function(n){return React.createElement("tr",null,n.map(function(n){return React.createElement(t.InputTableCell,{card:n,onSelect:e.props.onSelect})}))}))},n}(React.Component);t.InputTable=e,t.RenderInputTable=function(t,n,s){ReactDOM.render(React.createElement(e,{cards:n,onSelect:s}),t)}}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.onSelect=e.onSelect.bind(e),e.state={Selected:!1},e}return __extends(e,t),e.prototype.render=function(){var t=this;return React.createElement("td",{className:this.props.card.suit.key,id:this.props.card.rank.key+this.props.card.suit.key,onClick:function(){t.onSelect(t.props.card)}},this.state.Selected?"..":this.props.card.rank.key+this.props.card.suit.key)},e.prototype.onSelect=function(t){".."==document.getElementById("Card-6").innerHTML&&this.setState({Selected:!0}),this.props.onSelect(t)},e}(React.Component);t.InputTableCell=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.render=function(){for(var e=[],n=0;n<4;n++)e.push("");return React.createElement("td",null,e.map(function(e,n){return React.createElement(t.ResultRowInterior,{rowIntIndex:n})}))},n}(React.Component);t.ResultComponentExterior=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.render=function(){return React.createElement("td",{className:"int"})},e}(React.Component);t.ResultComponentInterior=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.render=function(){for(var e=[],n=0;n<13;n++)e[n][0]=13*n+0,e[n][1]=13*n+12;return this.props.startingHands.slice(),React.createElement("table",null,e.map(function(e,n){return React.createElement(t.ResultRowExterior,{rowExtIndex:n})}))},n}(React.Component);t.ResultGrid=e,t.RenderResultGrid=function(t,n){ReactDOM.render(React.createElement(e,{startingHands:n}),t)}}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.render=function(){for(var e=[],n=0;n<13;n++)e.push("");return React.createElement("tr",null,e.map(function(e,n){return React.createElement(t.ResultComponentExterior,{cellExtIndex:n})}))},n}(React.Component);t.ResultRowExterior=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={})),function(t){!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.render=function(){for(var e=[],n=0;n<4;n++)e.push("");return React.createElement("tr",null,e.map(function(e,n){return React.createElement(t.ResultComponentInterior,{cellIntIndex:n})}))},n}(React.Component);t.ResultRowInterior=e}(t.Test||(t.Test={}))}(Kerstens||(Kerstens={}));